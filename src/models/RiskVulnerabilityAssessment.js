import { DataTypes } from 'sequelize';
import sequelize from '../config/db.js';

const RiskVulnerabilityAssessment = sequelize.define('RiskVulnerabilityAssessment', {
  id: {
    type: DataTypes.UUID,
    primaryKey: true,
    defaultValue: DataTypes.UUIDV4,
  },
  masterQuestionId: {
    type: DataTypes.UUID,
    references: {
      model: 'master_questions',
      key: 'id'
    },
    allowNull: false,
  },
  vulnerabilityDesc: {
    type: DataTypes.TEXT,
  },
  vulnerabilityRating: {
    type: DataTypes.TEXT,
  },
  vulnerabilityValue: {
    type: DataTypes.FLOAT,
  },
  riskLikelihoodScore: {
    type: DataTypes.FLOAT,
  },
  riskLikelihoodValue: {
    type: DataTypes.FLOAT,
  },
  riskLikelihoodRating: {
    type: DataTypes.TEXT,
  },
  ermLikelihoodRating: {
    type: DataTypes.TEXT,
  },
  operationalImpactDesc: {
    type: DataTypes.TEXT,
  },
  businessImpactDesc: {
    type: DataTypes.TEXT,
  },
  financialImpactRating: {
    type: DataTypes.FLOAT,
  },
  reputationalImpactRating: {
    type: DataTypes.FLOAT,
  },
  legalImpactRating: {
    type: DataTypes.FLOAT,
  },
  complianceImpactRating: {
    type: DataTypes.FLOAT,
  },
  objAndProdOperImpactRating: {
    type: DataTypes.FLOAT,
  },
  riskImpactValue: {
    type: DataTypes.FLOAT,
  },
  riskImpactRating: {
    type: DataTypes.TEXT,
  },
  inherentRisk: {
    type: DataTypes.TEXT,
  },
  currentRiskValue: {
    type: DataTypes.FLOAT,
  },
  currentRiskRating: {
    type: DataTypes.TEXT,
  },
  ermRiskRating: {
    type: DataTypes.TEXT,
  },
  riskOwner: {
    type: DataTypes.TEXT,
  },
  riskTreatmentPlan1: {
    type: DataTypes.TEXT,
  },
  riskTreatmentPlan2: {
    type: DataTypes.TEXT,
  },
  riskTreatmentPlan3: {
    type: DataTypes.TEXT,
  },
  riskTreatmentPlan4: {
    type: DataTypes.TEXT,
  },
  riskTreatmentPlan5: {
    type: DataTypes.TEXT,
  },
  revRiskLikelihoodRating: {
    type: DataTypes.FLOAT,
  },
  revRiskImpactRating: {
    type: DataTypes.FLOAT,
  },
  targetRiskRating: {
    type: DataTypes.TEXT,
  }
}, {
  tableName: 'risk_vulnerability_assessments',
  timestamps: true,
  underscored: true,
});